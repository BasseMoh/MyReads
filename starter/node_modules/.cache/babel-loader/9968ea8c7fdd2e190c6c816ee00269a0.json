{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\basse\\\\OneDrive\\\\Desktop\\\\New folder (5)\\\\MyReads-BassemMohamed\\\\starter\\\\src\\\\SearchInputPage.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BAPI from \"./BooksAPI\";\nimport Books from \"./Books\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchInputPage = () => {\n  _s();\n\n  const [search, SetSearch] = useState(\"\");\n  const [MyBooks, setMyBooks] = useState([]);\n  const [Collection, setCollection] = useState([]);\n\n  const clearSearchBar = () => {\n    SetSearch(\"\");\n  };\n\n  const updateSearchBar = s => {\n    SetSearch(s);\n    updateCurrDisplay(s);\n  };\n\n  const updateCurrDisplay = search => {\n    if (search === \"\") {\n      setCollection(MyBooks);\n      clearSearchBar();\n    } else {\n      BAPI.search(search.trim()).then(bk => {\n        if (bk.length >= 0) {\n          setCollection(bk);\n        } else {\n          setCollection([]);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    let condition = false;\n\n    if (!condition) {\n      const getBooks = async () => {\n        const result = await BAPI.getAll();\n        setCollection(result);\n        setMyBooks(result);\n      };\n\n      getBooks();\n    }\n\n    return () => {\n      condition = true;\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-books\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-bar\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"close-search\",\n        to: \"/\",\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title, author, or ISBN\",\n          value: search,\n          onChange: e => updateSearchBar(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"searchArea\",\n        children: \"These are the Books Available in Your Shelfs :-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"books-grid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookshelf-books\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"books-grid\",\n        children: Collection.map(book => {\n          switch (true) {\n            case book.shelf !== \"none\":\n              return /*#__PURE__*/_jsxDEV(Books, {\n                book: book,\n                UserValue: book.shelf ? book.shelf : \"none\",\n                MyBooks: MyBooks,\n                setMyBooks: setMyBooks\n              }, book.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this);\n              break;\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchInputPage, \"lwq8hcgHaCqIXggbcFCM19QOTPo=\");\n\n_c = SearchInputPage;\nexport default SearchInputPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchInputPage\");","map":{"version":3,"sources":["C:/Users/basse/OneDrive/Desktop/New folder (5)/MyReads-BassemMohamed/starter/src/SearchInputPage.js"],"names":["useEffect","useState","Link","BAPI","Books","SearchInputPage","search","SetSearch","MyBooks","setMyBooks","Collection","setCollection","clearSearchBar","updateSearchBar","s","updateCurrDisplay","trim","then","bk","length","condition","getBooks","result","getAll","e","target","value","map","book","shelf","id"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BAPI from \"./BooksAPI\";\nimport Books from \"./Books\";\n\nconst SearchInputPage = () => {\n    \n    const [search, SetSearch] = useState(\"\");\n    const [MyBooks, setMyBooks] = useState([]);\n    const [Collection, setCollection] = useState([]);\n    \n    \n    const clearSearchBar = () => {\n        SetSearch(\"\");\n    }\n\n    const updateSearchBar = (s) => {\n        SetSearch(s);\n        updateCurrDisplay(s);\n    }\n\n    const updateCurrDisplay = (search) => {\n        if(search === \"\") {\n            setCollection(MyBooks);\n            clearSearchBar();\n        } else {\n            BAPI.search(search.trim()).then((bk) => {\n                if(bk.length >= 0){\n                    setCollection(bk);\n                }\n                else{\n                    setCollection([]);\n                }\n            })\n        }\n    }\n    useEffect(() => {\n        let condition = false;\n        if(!condition) {\n            const getBooks = async () => {\n                const result = await BAPI.getAll();\n                setCollection(result);\n                setMyBooks(result);\n            }\n            getBooks();\n        }\n        return () => {\n            condition = true;\n        }\n    }, [])\n\n    return (\n        <div className=\"search-books\">\n          <div className=\"search-books-bar\">\n            <Link\n              className=\"close-search\"\n              to=\"/\"\n            >\n              Close\n            </Link>\n            <div className=\"search-books-input-wrapper\">\n              <input\n                type=\"text\"\n                placeholder=\"Search by title, author, or ISBN\"\n                value={search}\n                onChange={(e) => updateSearchBar(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"search-books-results\">\n            <h2 className=\"searchArea\">These are the Books Available in Your Shelfs :-</h2>\n            <ol className=\"books-grid\"></ol>\n          </div>\n            <div className=\"bookshelf-books\">\n                <ol className=\"books-grid\">\n                {\n                        Collection.map((book) => {\n                            switch(true){\n                                case book.shelf !==\"none\":\n                                return (\n                                    <Books \n                                        key={book.id}\n                                        book={book}\n                                        UserValue={book.shelf ? book.shelf : \"none\"}\n                                        MyBooks={MyBooks} \n                                        setMyBooks={setMyBooks}\n                                    />\n                                );\n                                break;\n                            }\n                            \n                        }\n                        )\n                    }\n                </ol>\n            </div>\n        </div>\n      );\n}\n\nexport default SearchInputPage;"]},"metadata":{},"sourceType":"module"}